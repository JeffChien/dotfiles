script-opts=ytdl_hook-try_ytdl_first=yes,ytdl_hook-ytdl_path=yt-dlp,ytdl_hook-exclude="%.webm$|%.ts$|%.mp3$|%.m3u8$|%.m3u$|%.mkv$|%.mp4$|%.VOB$"


ytdl-format="bestvideo[height<=?1080][ext=webm]+bestaudio/best"

cache=yes
cache-secs=30
demuxer-max-bytes=123400KiB
demuxer-readahead-secs=30

# workaround for streaming video, seek within cache
force-seekable=yes
hr-seek=yes
hr-seek-framedrop=yes

# profile
[waveform]
profile-desc="show waveform for audio file"
lavfi-complex=[aid1]asplit[ao][a1];[a1]showwaves=s=1600x480:mode=line:colors=white[vo]
keep-open=always
ontop=yes
osd-scale-by-window=no
border=no

[waveform-video]
profile-desc="show waveform with sweeping bar"
keep-open=always
ontop=yes
osd-scale-by-window=no
border=no

[upscale]
profile=gpu-hq
glsl-shader="~~/FSRCNNX_x2_16-0-4-1.glsl"